{"version":3,"sources":["webpack:///./src/assets/pic/乳膠枕/好眠乳膠枕.png","webpack:///./src/views/Carts.vue","webpack:///./src/views/Carts.vue?7a6f","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["module","exports","class","style","_createElementVNode","src","_imports_0","alt","for","_createElementBlock","_createVNode","_component_Loading","active","$data","_component_NavbarView","_hoisted_4","type","onClick","$options","disabled","carts","length","loadingItem","_hoisted_9","_Fragment","_renderList","item","key","id","backgroundImage","product","imageUrl","_toDisplayString","title","name","qty","$event","onChange","num","value","_hoisted_12","price","_hoisted_15","_hoisted_16","final_total","_hoisted_19","_hoisted_22","_hoisted_26","_hoisted_33","_hoisted_35","_hoisted_38","_hoisted_39","_hoisted_42","_hoisted_43","_component_Form","ref","onSubmit","errors","_hoisted_46","_component_Field","placeholder","rules","user","_component_ErrorMessage","_hoisted_48","email","_hoisted_50","tel","_hoisted_52","address","_hoisted_54","cols","rows","message","Object","keys","_hoisted_56","_component_FooterView","data","loadingStatus","isLoading","cart","form","components","FooterView","NavbarView","mounted","this","getCart","methods","url","process","$http","get","then","response","catch","err","alert","updateCart","product_id","put","removeCartItem","delete","deleteAllCarts","redirect","$router","push","createOrder","order","post","$refs","resetForm","__exports__","render","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","error"],"mappings":"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","file":"js/chunk-68175b17.630edbb6.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/好眠乳膠枕.958b285b.png\";","<template>\n  <div class=\"carts\">\n    <Loading :active=\"isLoading\"></Loading>\n    <NavbarView></NavbarView>\n    <div class=\"d-md-block d-none\" style=\"margin-bottom:100px;padding-top:130px\">\n        <div\n          style=\"width: 80%\"\n          class=\"mx-auto mb-3 d-flex justify-content-between\"\n        >\n          <h1>購物車</h1>\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary mb-3\"\n            @click=\"deleteAllCarts('open')\"\n            :disabled=\"\n              cart.carts.length === 0 || loadingStatus.loadingItem === 'open'\n            \"\n          >\n            <i\n              class=\"fas fa-spinner fa-pulse\"\n              v-if=\"loadingStatus.loadingItem === 'open'\"\n            ></i\n            >清空購物車\n          </button>\n        </div>\n      <table class=\"table align-middle mx-auto\" style=\"width: 80%\" v-if=\"cart.carts.length>0\">\n        <thead>\n          <tr>\n            <th>圖片</th>\n            <th>商品名稱</th>\n            <th>數量</th>\n            <th>價格</th>\n            <th>刪除</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n            <td style=\"width: 200px\">\n              <div\n                style=\"\n                  height: 100px;\n                  background-size: cover;\n                  background-position: center;\n                \"\n                :style=\"{ backgroundImage: `url(${item.product.imageUrl})` }\"\n              ></div>\n            </td>\n            <td>\n              {{ item.product.title }}\n            </td>\n            <td>\n              <select\n                name=\"productNum\"\n                class=\"form-select\"\n                style=\"width: 100%\"\n                v-model=\"item.qty\"\n                @change=\"updateCart(item)\"\n                :disabled=\"loadingStatus.loadingItem === item.id\"\n              >\n                <option :value=\"num\" v-for=\"num in 8\" :key=\"`${num}${item.id}`\">\n                  {{ num }}\n                </option>\n              </select>\n            </td>\n            <td>\n              {{ item.product.price * item.qty }}\n            </td>\n            <td>\n              <i\n                class=\"fas fa-trash-alt w-100\"\n                type=\"button\"\n                @click=\"removeCartItem(item)\"\n                :disabled=\"loadingStatus.loadingItem === item.id\"\n              >\n              </i>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"noneCart mx-auto text-center border-top border-dark \" style=\"width: 80%\" v-else>\n        <h1>購物車無商品，立刻逛逛!</h1>\n        <img src=\"@/assets/pic/乳膠枕/好眠乳膠枕.png\" alt=\"好眠乳膠枕\">\n        <button type=\"button\" class=\"btn btn-secondary d-block mx-auto mt-2\" @click=\"redirect()\">前往商品列表</button>\n      </div>\n      <div class=\"w-100\">\n        <div style=\"width: 80%\" class=\"mx-auto d-flex justify-content-end\">\n          <h2 v-if=\"cart.final_total > 0\">總金額:{{ cart.final_total }}</h2>\n        </div>\n      </div>\n    </div>\n\n    <!--RWD-->\n    <ul class=\"d-md-none w-100 m-0\" style=\"margin-bottom:100px;padding-top:130px\">\n      <div\n        style=\"width: 80%; border-bottom: 1px solid #000\"\n        class=\"mx-auto mb-3 d-flex justify-content-between\"\n      >\n        <h1>購物車</h1>\n        <button\n          type=\"button\"\n          class=\"btn btn-outline-secondary mb-3\"\n          @click=\"deleteAllCarts('open')\"\n          :disabled=\"\n            cart.carts.length === 0 || loadingStatus.loadingItem === 'open'\n          \"\n        >\n          <i\n            class=\"fas fa-spinner fa-pulse\"\n            v-if=\"loadingStatus.loadingItem === 'open'\"\n          ></i\n          >清空購物車\n        </button>\n      </div>\n      <div v-if=\"cart.carts.length>0\">\n        <li v-for=\"item in cart.carts\" :key=\"item\" class=\"mx-auto mb-3\" style=\"width: 80%\">\n          <div class=\"card\" style=\"width: 100%\">\n            <div class=\"card-body d-flex\">\n              <div style=\"width: 100px\">\n                <div\n                  style=\"\n                    height: 100px;\n                    background-size: cover;\n                    background-position: center;\n                  \"\n                  :style=\"{ backgroundImage: `url(${item.product.imageUrl})` }\"\n                ></div>\n              </div>\n              <div style=\"width: 400px\">\n                <div class=\"text-center mb-3\">\n                  {{ item.product.title }}\n                </div>\n                <select\n                  name=\"productNum\"\n                  class=\"form-select mx-auto mb-3\"\n                  style=\"width: 80%\"\n                  v-model=\"item.qty\"\n                  @change=\"updateCart(item)\"\n                  :disabled=\"loadingStatus.loadingItem === item.id\"\n                >\n                  <option :value=\"num\" v-for=\"num in 8\" :key=\"`${num}${item.id}`\">\n                    {{ num }}\n                  </option>\n                </select>\n                <div class=\"text-center\">\n                  <span>金額:</span>\n                  {{ item.product.price * item.qty }}\n                  <i\n                    class=\"fas fa-trash-alt px-5\"\n                    type=\"button\"\n                    @click=\"removeCartItem(item)\"\n                    :disabled=\"loadingStatus.loadingItem === item.id\"\n                  >\n                  </i>\n                </div>\n              </div>\n            </div>\n          </div>\n        </li>\n      </div>\n      <div class=\"noneCart mx-auto text-center\" style=\"width: 80%\" v-else>\n        <h1>購物車無商品，立刻逛逛!</h1>\n        <img src=\"@/assets/pic/乳膠枕/好眠乳膠枕.png\" alt=\"好眠乳膠枕\">\n        <button type=\"button\" class=\"btn btn-secondary d-block mx-auto mt-2\" @click=\"redirect()\">前往商品列表</button>\n      </div>\n      <div class=\"w-100\">\n        <div style=\"width: 80%\" class=\"mx-auto d-flex justify-content-end\">\n          <h2 v-if=\"cart.final_total > 0\">總金額:{{ cart.final_total }}</h2>\n        </div>\n      </div>\n    </ul>\n    <!--訂購人資訊-->\n    <div class=\"w-50 mx-auto mt-5 mb-3\" style=\"border-bottom: 1px solid #000;\">\n        <h1>訂購人資訊</h1>\n    </div>\n    <div class=\"mb-5 row justify-content-center\">\n      <Form\n        ref=\"form\"\n        class=\"col-md-6\"\n        v-slot=\"{ errors }\"\n        @submit=\"createOrder\"\n      >\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label\">收件人姓名<span class=\"px-1\" style=\"color: #f00;\">*</span></label>\n          <Field\n            id=\"name\"\n            name=\"姓名\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\n            placeholder=\"請輸入姓名\"\n            rules=\"required\"\n            v-model=\"form.user.name\"\n          ></Field>\n          <ErrorMessage\n            name=\"姓名\"\n            class=\"invalid-feedback\"\n          ></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label\">收件人電子郵件<span class=\"px-1\" style=\"color: #f00;\">*</span></label>\n          <Field\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['email'] }\"\n            placeholder=\"請輸入電子郵件\"\n            rules=\"email|required\"\n            v-model=\"form.user.email\"\n          ></Field>\n          <ErrorMessage\n            name=\"email\"\n            class=\"invalid-feedback\"\n          ></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"tel\" class=\"form-label\">收件人電話<span class=\"px-1\" style=\"color: #f00;\">*</span></label>\n          <Field\n            id=\"tel\"\n            name=\"電話\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['電話'] }\"\n            placeholder=\"請輸入電話\"\n            rules=\"required|min:8|max:10\"\n            v-model=\"form.user.tel\"\n          ></Field>\n          <ErrorMessage\n            name=\"電話\"\n            class=\"invalid-feedback\"\n          ></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"address\" class=\"form-label\">收件人地址<span class=\"px-1\" style=\"color: #f00;\">*</span></label>\n          <Field\n            id=\"address\"\n            name=\"地址\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入地址\"\n            rules=\"required\"\n            v-model=\"form.user.address\"\n          ></Field>\n          <ErrorMessage\n            name=\"地址\"\n            class=\"invalid-feedback\"\n          ></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"message\" class=\"form-label\">留言</label>\n          <textarea\n            name=\"\"\n            id=\"message\"\n            class=\"form-control\"\n            cols=\"30\"\n            rows=\"10\"\n            v-model=\"form.message\"\n          ></textarea>\n        </div>\n        <div class=\"text-end\">\n          <button type=\"submit\" class=\"btn btn-danger\"\n          :disabled=\"Object.keys(errors).length > 0 || cart.carts.length === 0\"\n          >送出訂單</button>\n        </div>\n      </Form>\n    </div>\n    <FooterView></FooterView>\n  </div>\n</template>\n\n<script>\nimport FooterView from '@/components/FooterView.vue'\nimport NavbarView from '@/components/NavbarView.vue'\n\nexport default {\n  name: 'Carts',\n  data () {\n    return {\n      loadingStatus: {\n        loadingItem: ''\n      },\n      isLoading: false,\n      cart: {\n        carts: []\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      }\n    }\n  },\n  components: {\n    FooterView,\n    NavbarView\n  },\n  mounted () {\n    this.getCart()\n  },\n  methods: {\n    getCart () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\n      this.isLoading = true\n      this.$http\n        .get(url)\n        .then((response) => {\n          this.cart = response.data.data\n          this.isLoading = false\n        })\n        .catch((err) => {\n          alert(err.data.message)\n        })\n    },\n    updateCart (data) {\n      this.loadingStatus.loadingItem = data.id\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${data.id}`\n      const cart = {\n        product_id: data.product_id,\n        qty: data.qty\n      }\n      this.$http\n        .put(url, { data: cart })\n        .then((response) => {\n          alert(response.data.message)\n          this.loadingStatus.loadingItem = ''\n          this.getCart()\n        })\n        .catch((err) => {\n          alert(err.data.message)\n          this.loadingStatus.loadingItem = ''\n        })\n    },\n    removeCartItem (data) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${data.id}`\n      this.loadingStatus.loadingItem = data.id\n      this.$http\n        .delete(url)\n        .then((response) => {\n          alert(response.data.message)\n          this.loadingStatus.loadingItem = ''\n          this.getCart()\n        })\n        .catch((err) => {\n          alert(err.data.message)\n        })\n    },\n    deleteAllCarts (data) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`\n      this.loadingStatus.loadingItem = data\n      this.$http\n        .delete(url)\n        .then((response) => {\n          alert(response.data.message)\n          this.loadingStatus.loadingItem = ''\n          this.getCart()\n        })\n        .catch((err) => {\n          alert(err.data.message)\n        })\n    },\n    redirect () {\n      this.$router.push('/products')\n    },\n    createOrder () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`\n      const order = this.form\n      this.$http.post(url, { data: order }).then((response) => {\n        alert(response.data.message)\n        this.$refs.form.resetForm() // vee validate 的方法 form reset\n        this.getCart()\n      }).catch((err) => {\n        alert(err.data.message)\n      })\n    }\n  }\n}\n</script>\n","import { render } from \"./Carts.vue?vue&type=template&id=19590ad4\"\nimport script from \"./Carts.vue?vue&type=script&lang=js\"\nexport * from \"./Carts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\chen\\\\Desktop\\\\vue-week7\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}