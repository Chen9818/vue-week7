{"version":3,"sources":["webpack:///./src/views/Products.vue?9cd6","webpack:///./src/components/PaginationView.vue","webpack:///./src/components/PaginationView.vue?f977","webpack:///./src/views/Products.vue","webpack:///./src/views/Products.vue?21d5"],"names":["aria-label","class","_createElementVNode","aria-hidden","_hoisted_3","_hoisted_7","_createElementBlock","disabled","$props","current_page","href","onClick","$options","_Fragment","_renderList","total_pages","item","index","key","active","_toDisplayString","_hoisted_6","props","methods","emitPages","this","$emit","__exports__","render","style","_createVNode","_component_Loading","$data","_component_NavbarView","_component_MainImage","title","_hoisted_2","id","src","imageUrl","alt","category","origin_price","price","type","loadingItem","is_enabled","_component_PaginationView","pages","onEmitPages","_component_FooterView","name","data","products","loadingStatus","isLoading","product","pagination","MainTitle","components","FooterView","NavbarView","PaginationView","MainImage","mounted","getProducts","url","process","$http","get","then","response","catch","err","alert","message","getProduct","$router","push","addToCart","qty","cart","product_id","post"],"mappings":"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","file":"js/chunk-1bd51eb5.30294421.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Products.vue?vue&type=style&index=0&id=2a4695d6&lang=scss&scoped=true\"","<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination pagination-lg\">\n      <li class=\"page-item\" :class=\"{ disabled: pages.current_page === 1 }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Previous\"\n          @click.prevent=\"emitPages(pages.current_page - 1)\"\n        >\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li\n        v-for=\"(item, index) in pages.total_pages\"\n        :key=\"index\"\n        class=\"page-item\"\n        :class=\"{ active: item === pages.current_page }\"\n      >\n        <span class=\"page-link\" v-if=\"item === pages.current_page\">{{\n          item\n        }}</span>\n        <a class=\"page-link\" href=\"#\" v-else @click.prevent=\"emitPages(item)\">{{\n          item\n        }}</a>\n      </li>\n      <li\n        class=\"page-item\"\n        :class=\"{ disabled: pages.current_page === pages.total_pages }\"\n      >\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Next\"\n          @click.prevent=\"emitPages(pages.current_page + 1)\"\n        >\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    emitPages (item) {\n      this.$emit('emit-pages', item)\n    }\n  }\n}\n</script>\n","import { render } from \"./PaginationView.vue?vue&type=template&id=2cf5a750\"\nimport script from \"./PaginationView.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\chen\\\\Desktop\\\\vue-week7\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"products w-100\" style=\"background:#ccc\">\n    <Loading :active=\"isLoading\"></Loading>\n    <NavbarView class=\"w-100\"></NavbarView>\n    <MainImage :title=\"MainTitle\"></MainImage>\n    <ul class=\"filter d-flex justify-content-center pt-5\">\n      <li><button type=\"button\" class=\"btn btn-base\" style=\"color:#fff;font-size:30px\">全部</button></li>\n      <li><button type=\"button\" class=\"btn btn-base\" style=\"color:#fff;font-size:30px\">乳膠枕</button></li>\n      <li><button type=\"button\" class=\"btn btn-base\" style=\"color:#fff;font-size:30px\">絲絨枕</button></li>\n      <li><button type=\"button\" class=\"btn btn-base\" style=\"color:#fff;font-size:30px\">機能枕</button></li>\n      <li><button type=\"button\" class=\"btn btn-base\" style=\"color:#fff;font-size:30px\">兒童枕</button></li>\n    </ul>\n      <div class=\"container\" style=\"\">\n        <div class=\"row \">\n          <div class=\"col-12 col-md-4 d-flex flex-wrap\" v-for=\"item in products\" :key=\"item.id\">\n            <div class=\"card mx-auto my-5\" style=\"width: 100%;\">\n              <img\n                :src=\"item.imageUrl\"\n                class=\"card-img-top\"\n                :alt=\"item.title\"\n              />\n              <div class=\"card-body\">\n                <div class=\"d-flex\">\n                  <h4 class=\"card-title\">\n                    {{ item.title }}\n                  <span class=\"badge bg-base ms-2\">{{ item.category }}</span>\n                  </h4>\n                </div>\n                  <div class=\"card-text d-flex justify-content-between\" style=\"font-size:1.2rem\">\n                  <p class=\"text-decoration-line-through\">\n                    原價:NT{{ item.origin_price }}\n                  </p>\n                  <p style=\"color:#ff0000\">\n                    特價:NT{{ item.price }}\n                  </p>\n                  </div>\n                <div class=\"d-flex justify-content-between\">\n                  <button\n                  type=\"button\"\n                  class=\"btn btn-outline-secondary\"\n                  @click=\"getProduct(item.id)\"\n                  :disabled=\"loadingStatus.loadingItem === item.id || !item.is_enabled\"\n                  >\n                    <i\n                    class=\"fas fa-spinner fa-pulse\"\n                    v-if=\"loadingStatus.loadingItem === item.id\"\n                    ></i>\n                    查看更多\n                  </button>\n\n                  <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger\"\n                  @click=\"addToCart(item.id)\"\n                  :disabled=\"loadingStatus.loadingItem === item.id || !item.is_enabled\"\n                  >\n                    <i\n                    class=\"fas fa-spinner fa-pulse\"\n                    v-if=\"loadingStatus.loadingItem === item.id\"\n                  ></i>加入購物車</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <PaginationView\n      :pages=\"pagination\"\n      @emit-pages=\"getProducts\"\n      class=\"d-flex justify-content-center\"\n      ></PaginationView>\n    <FooterView></FooterView>\n  </div>\n</template>\n\n<script>\nimport FooterView from '@/components/FooterView.vue'\nimport NavbarView from '@/components/NavbarView.vue'\nimport MainImage from '@/components/MainImage.vue'\nimport PaginationView from '@/components/PaginationView.vue'\n\nexport default {\n  name: 'Products',\n  data () {\n    return {\n      products: [],\n      loadingStatus: {\n        loadingItem: ''\n      },\n      isLoading: false,\n      product: {},\n      pagination: {},\n      MainTitle: '產品列表'\n    }\n  },\n  components: {\n    FooterView,\n    NavbarView,\n    PaginationView,\n    MainImage\n  },\n  mounted () {\n    this.getProducts()\n  },\n  methods: {\n    getProducts (id = 1) {\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${id}`\n      this.$http\n        .get(url)\n        .then((response) => {\n          const { products, pagination } = response.data\n          this.products = products\n          this.pagination = pagination\n          this.isLoading = false\n        })\n        .catch((err) => {\n          alert(err.data.message)\n        })\n    },\n    getProduct (id) {\n      this.$router.push(`/product/${id}`)\n    },\n    addToCart (id, qty = 1) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\n      this.loadingStatus.loadingItem = id\n      const cart = {\n        product_id: id,\n        qty\n      }\n      this.$http.post(url, { data: cart }).then((response) => {\n        alert(response.data.message)\n        this.loadingStatus.loadingItem = ''\n      }).catch((err) => {\n        alert(err.data.message)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/base/all.scss\";\n\n  .filter{\n    width: 50%;\n    margin: auto;\n    li{\n      margin:0 2px 0 2px;\n    }\n  }\n  .card {\n  opacity: 0.8;\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  &:hover {\n    opacity: 1;\n    img {\n      border: 10px solid #fff;\n    }\n  }\n}\n</style>\n","import { render } from \"./Products.vue?vue&type=template&id=2a4695d6&scoped=true\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport \"./Products.vue?vue&type=style&index=0&id=2a4695d6&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\chen\\\\Desktop\\\\vue-week7\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a4695d6\"]])\n\nexport default __exports__"],"sourceRoot":""}